<%- include('partials/header') %>

<div class="container">
    <div class="user-form">
        <h1 style="text-align:center;">Edit Profile</h1>
        <div style="width:30%; margin: 25px auto;">
            <form action="/user/edit_profile/<%= user.username %>?_method=PUT" method="POST">
                <div class="form-group">
                    <label for="first_name">First name: </label><input class="form-control" type="first_name" name="first_name" pattern="[a-zA-Z ]+" title="First name required" value="<%= user.first_name %>" required>
                </div>
                <div class="form-group">
                    <label for="last">Last name: </label><input class="form-control" type="last_name" name="last_name" pattern="[a-zA-Z]+" title="Last name optional" value="<%= user.last_name %>">
                </div>
                <div class="form-group">
                    <label for="birthday">Birthday:</label><input class="form-control" type="date" id="birthday" name="birthday" max="2004-12-31" value="<%= user.birthday %>" title="Must be 16 years or older">
                </div>
                <div class="form-group">
                    <label>Gender:</label></li>
                    <div style="margin-left: 50px;">
                        <% if (user.gender === "female") { %>
                            <li><input type="radio" id="female" name="gender" value="female" checked>  <label for="female">Female</label></li>
                        <% } else { %>
                            <li><input type="radio" id="female" name="gender" value="female">  <label for="female">Female</label></li>
                        <% } %>

                        <% if (user.gender === "male") { %>
                            <li><input type="radio" id="male" name="gender" value="male" checked>  <label for="male">Male</label></li>
                        <% } else { %>
                            <li><input type="radio" id="male" name="gender" value="male">  <label for="male">Male</label></li>
                        <% } %>   

                        <% if (user.gender === "other") { %>
                            <li><input type="radio" id="other" name="gender" value="other" checked>  <label for="other">Other:</label></li>
                        <% } else { %>
                            <li><input type="radio" id="other" name="gender" value="other">  <label for="other">Other:</label></li>
                        <% } %>  

                        <% if (user.gender === "private") { %>
                            <li><input type="radio" id="private" name="gender" value="private" checked>  <label for="private">Prefer not to specify</label></li>
                        <% } else { %>
                            <li><input type="radio" id="private" name="gender" value="private">  <label for="private">Prefer not to specify</label></li>
                        <% } %>  
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">Email address: </label><input class="form-control" type="email" name="email" title="Valid email address" value="<%= user.email %>" required>
                </div>
                <div class="form-group">
                    <label for="bio">One-line Bio:</label><input class="form-control" type="bio" name="bio" title="One line about yourself (optional)" value="<%= user.bio %>">
                </div>
                <div class="form-group">
                    <label for="photo">Profile photo link:</label><input class="form-control" type="url" name="photo" placeholder="photo link" title="Profile photo link must start with http: (optional)">
                </div>
                <br>
                <div class="form-group">
                    <p>Please confirm the changes by entering your password:</p>
                    <label for="password">Password:</label><input class="form-control" type="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least 1 number, 1 uppercase letter, 1 lowercase letter, and be at least 8 characters" value="<%= user.password %>" required>
                </div>
                <div class="form-group">
                    <button class="btn btn-lg btn-primary btn-block">Update Profile Information</button>
                </div>
            </form>
        </div>

        <hr>

        <div>
            <h1>Change Password</h1>
        </div>
        
        <div style="width:30%; margin: 25px auto;">
            <form action="/user/edit_password/<%= user.username %>?_method=PUT" method="POST">
                <div class="form-group">
                    <label for="password">New password:</label><input class="form-control" type="password" name="new_password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least 1 number, 1 uppercase letter, 1 lowercase letter, and be at least 8 characters" required>
                </div>
                <div class="form-group">
                    <label for="password">Confirm password:</label><input class="form-control" type="password" name="confirm_password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must match password in field above" required>
                </div>
                <br>
                <div class="form-group">
                    <p>Please confirm the changes by entering your current password:</p>
                    <label for="password">Password:</label><input class="form-control" type="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Please enter your current password" required>
                </div>
                <div class="form-group">
                    <button class="btn btn-lg btn-primary btn-block">Update Password</button>
                </div>             
            </form>
        </div>
    </div>
</div>


<%- include('partials/footer') %>